if (X()) {
    if (ch=='b') { ch=nextchar(); return true; }
    else return false; /* non corrisponde â†’ ERRORE */
} else 
    return false;

--- chiedi per questi doppi if